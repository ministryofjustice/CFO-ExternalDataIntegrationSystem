{
  "Serilog:WriteTo:1:Args:path": "%USERPROFILE%/DMS/logs/Blocking-.txt",
  "StoredProceduresConfig": {
    "TruncateStoredProcedure": "[Matching].[TruncateTables]",
    "InsertCandidatesStoredProcedure": "[Matching].[InsertCandidates]",
    "InsertMatchesStoredProcedure": "[Matching].[InsertMatches]"
  },
  "BlockingQueriesConfig": {
    "BlockingQueriesGroups": [
      {
        "Order": 1,
        "BlockingQuery": "SELECT NOMIS.SourceName as SourceName, NOMIS.NOMSnumber AS SourceKey, DELIUS.SourceName as TargetName, DELIUS.CRN AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.PersonalDetailsCleanView AS NOMIS  JOIN DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS DELIUS  ON NOMIS.NOMSnumber = DELIUS.NOMISNumber"
      },
      {
        "Order": 2,
        "BlockingQuery": "SELECT NOMIS.SourceName as SourceName, NOMIS.NOMSnumber AS SourceKey, DELIUS.SourceName as TargetName, DELIUS.CRN AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.PersonalDetailsCleanView AS NOMIS JOIN DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS DELIUS  ON NOMIS.Surname = DELIUS.Surname AND NOMIS.DOB = DELIUS.DateOfBirth"
      },
      {
        "Order": 3,
        "BlockingQuery": "SELECT NOMIS.SourceName as SourceName, NOMIS.NOMSnumber AS SourceKey, DELIUS.SourceName as TargetName, DELIUS.CRN AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.PNCView AS NOMIS JOIN DeliusRunningPictureDb.DeliusRunningPicture.PNCView AS DELIUS ON NOMIS.PNCNumber = DELIUS.PNCNumber"
      },
      {
        "Order": 4,
        "BlockingQuery": "SELECT NOMIS.SourceName as SourceName, NOMIS.NOMSnumber AS SourceKey, DELIUS.SourceName as TargetName, DELIUS.CRN AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.CROView AS NOMIS JOIN DeliusRunningPictureDb.DeliusRunningPicture.CROView AS DELIUS ON NOMIS.CRO = DELIUS.CRO"
      },
      {
        "Order": 5,
        "BlockingQuery": "SELECT NOMIS.SourceName as SourceName, NOMIS.NOMSnumber AS SourceKey, DELIUS.SourceName as TargetName, DELIUS.CRN AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.PrisonNumberView AS NOMIS JOIN DeliusRunningPictureDb.DeliusRunningPicture.PrisonNumberView AS DELIUS  ON NOMIS.PrisonNumber = DELIUS.PrisonNumber"
      },
      {
        "Order": 6,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.[NOMSnumber] AS SourceKey, r.SourceName as TargetName, r.NOMSnumber AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.PersonalDetailsCleanView AS l JOIN OfflocRunningPictureDb.OfflocRunningPicture.PersonalDetailsCleanView AS r  ON l.Surname= r.Surname AND l.DOB=r.DOB  and l.[NOMSnumber] < r.[NOMSnumber]"
      },
      {
        "Order": 7,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.[NOMSnumber] AS SourceKey, r.SourceName as TargetName, r.NOMSnumber AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.PNCView AS l JOIN OfflocRunningPictureDb.OfflocRunningPicture.PNCView AS r  ON l.PNCNumber= r.PNCNumber AND l.[NOMSnumber] < r.[NOMSnumber]"
      },
      {
        "Order": 8,
        "BlockingQuery": "SELECT distinct l.SourceName as SourceName, l.[NOMSnumber] AS SourceKey, r.SourceName as TargetName, r.NOMSnumber AS TargetKey FROM OfflocRunningPictureDb.OfflocRunningPicture.[CROView] AS l JOIN OfflocRunningPictureDb.OfflocRunningPicture.[CROView] AS r  ON l.CRO = r.CRO AND l.[NOMSnumber] < r.[NOMSnumber]"
      },
      {
        "Order": 9,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.[NOMSnumber] AS SourceKey, r.SourceName as TargetName, r.NOMSnumber AS TargetKey FROM OfflocRunningPictureDb.[OfflocRunningPicture].[PrisonNumberView] AS l JOIN OfflocRunningPictureDb.[OfflocRunningPicture].[PrisonNumberView] AS r  ON l.PrisonNumber= r.PrisonNumber AND l.[NOMSnumber] < r.[NOMSnumber]"
      },
      {
        "Order": 10,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.CRN AS SourceKey, r.SourceName as TargetName, r.CRN AS TargetKey FROM DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS l JOIN DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS r  ON l.Surname = r.Surname AND l.DateOfBirth=r.DateOfBirth and l.CRN < r.CRN"
      },
      {
        "Order": 11,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.CRN AS SourceKey, r.SourceName as TargetName, r.CRN AS TargetKey FROM DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS l JOIN DeliusRunningPictureDb.DeliusRunningPicture.PNCView AS r  ON l.PNCNumber = r.PNCNumber AND l.CRN < r.CRN"
      },
      {
        "Order": 12,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.CRN AS SourceKey, r.SourceName as TargetName, r.CRN AS TargetKey FROM DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS l JOIN DeliusRunningPictureDb.DeliusRunningPicture.CROView AS r  ON l.CRO = r.CRO AND l.CRN < r.CRN"
      },
      {
        "Order": 13,
        "BlockingQuery": "SELECT l.SourceName as SourceName, l.CRN AS SourceKey, r.SourceName as TargetName, r.CRN AS TargetKey FROM DeliusRunningPictureDb.DeliusRunningPicture.OffendersCleanView AS l JOIN DeliusRunningPictureDb.DeliusRunningPicture.PrisonNumberView AS r  ON l.PrisonNumber = r.PrisonNumber AND l.CRN < r.CRN"
      }
    ]
  }
}